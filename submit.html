<!DOCTYPE html>
<html lang="en-GB">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Submit Salary – The QS Salary Index</title>
  <link rel="stylesheet" href="assets/css/style.css" />
  <link rel="icon" href="assets/img/favicon.ico" type="image/x-icon" />
  <style>
    .submit-form {
      background: white;
      padding: 2rem;
      border-radius: 12px;
      box-shadow: 0 2px 8px rgba(0,0,0,0.08);
      margin: 2rem 0;
    }
    .form-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
      gap: 1rem;
      margin-bottom: 1.5rem;
    }
    .form-group {
      display: flex;
      flex-direction: column;
    }
    .form-group label {
      margin-bottom: 0.5rem;
      font-weight: 600;
      color: #374151;
    }
    .form-group input,
    .form-group select,
    .form-group textarea {
      padding: 0.75rem 1rem;
      border: 1px solid #d1d5db;
      border-radius: 8px;
      font-size: 0.95rem;
      background: white;
    }
    .form-group input:focus,
    .form-group select:focus,
    .form-group textarea:focus {
      outline: none;
      border-color: #1e40af;
      box-shadow: 0 0 0 3px rgba(30, 64, 175, 0.1);
    }
    .form-group small {
      color: #6b7280;
      font-size: 0.85rem;
      margin-top: 0.25rem;
    }
    .submit-btn {
      background: #1e40af;
      color: white;
      padding: 0.75rem 1.5rem;
      border: none;
      border-radius: 8px;
      font-weight: 600;
      cursor: pointer;
      width: 100%;
      font-size: 1rem;
      transition: background 0.2s;
    }
    .submit-btn:hover {
      background: #1e3a8a;
    }
    .submit-btn:disabled {
      background: #9ca3af;
      cursor: not-allowed;
    }
    .success-msg {
      background: #ecfdf5;
      color: #065f46;
      padding: 1rem;
      border-radius: 8px;
      border: 1px solid #a7f3d0;
      margin: 1rem 0;
      display: none;
    }
    .error-msg {
      background: #fef2f2;
      color: #991b1b;
      padding: 1rem;
      border-radius: 8px;
      border: 1px solid #fca5a5;
      margin: 1rem 0;
      display: none;
    }
  </style>
</head>
<body>
  <!-- HEADER -->
  <header>
    <div class="container header-flex">
      <a href="/" class="logo-link">
        <img src="assets/img/qs-salary-index-logo.png" alt="The QS Salary Index Logo" class="logo">
        <span class="sr-only">The QS Salary Index</span>
      </a>
      <div class="header-text">
        <p>Live global salary data for Quantity Surveyors</p>
        <p class="brand-link">
          Part of <a href="https://www.theqscollection.com" target="_blank" rel="noopener">The QS Collection</a>
        </p>
        <nav>
          <a href="/">Index</a> |
          <a href="submit.html">Submit</a> |
          <a href="insights.html">Insights</a> |
          <a href="#" onclick="openEmail()">Contact</a>
        </nav>
      </div>
    </div>
  </header>

  <!-- MAIN -->
  <main class="container">
    <section class="hero">
      <h1>Submit Your Salary (100% Anonymous)</h1>
      <p>Your data helps thousands. All entries are reviewed before going live.</p>
    </section>

    <form id="salaryForm" class="submit-form">
      <div class="form-grid">
        <!-- Title/Role -->
        <div class="form-group">
          <label for="title">Title/Role *</label>
          <input type="text" id="title" placeholder="e.g. Senior QS" required />
        </div>

        <!-- QS Type -->
        <div class="form-group">
          <label for="qsType">QS Type *</label>
          <select id="qsType" required>
            <option value="">Select Type...</option>
            <option>Main Contractor</option>
            <option>Subcontractor</option>
            <option>Consultant</option>
            <option>Client / Developer</option>
          </select>
        </div>

        <!-- Country -->
        <div class="form-group">
          <label for="country">Country *</label>
          <select id="country" required>
            <option value="">Select Country...</option>
            <option>United Kingdom</option>
            <option>United States</option>
            <option>Australia</option>
            <option>Canada</option>
            <option>Ireland</option>
            <option>Other</option>
          </select>
        </div>

        <!-- Salary Range -->
        <div class="form-group">
          <label for="salary">Salary Range (GBP) *</label>
          <select id="salary" required>
            <option value="">Select Range...</option>
            <option>£30,000 - £40,000</option>
            <option>£40,000 - £50,000</option>
            <option>£50,000 - £60,000</option>
            <option>£60,000 - £70,000</option>
            <option>£70,000 - £80,000</option>
            <option>£80,000 - £90,000</option>
            <option>£90,000 - £100,000</option>
            <option>£100,000 - £120,000</option>
            <option>£120,000+</option>
          </select>
        </div>

        <!-- Time in Role -->
        <div class="form-group">
          <label for="timeInRole">Time in Role (years) *</label>
          <input type="number" id="timeInRole" min="0" max="50" step="0.5" placeholder="e.g. 3.5" required />
        </div>

        <!-- QS Education -->
        <div class="form-group">
          <label for="education">QS Education</label>
          <select id="education">
            <option>None</option>
            <option>HNC/HND</option>
            <option>BSc</option>
            <option>MSc</option>
            <option>PhD</option>
          </select>
        </div>

        <!-- Sector (optional) -->
        <div class="form-group">
          <label for="sector">Sector (optional)</label>
          <select id="sector">
            <option>Construction</option>
            <option>Infrastructure</option>
            <option>Oil & Gas</option>
            <option>Renewables</option>
            <option>Other</option>
          </select>
        </div>

        <!-- Company Size (optional) -->
        <div class="form-group">
          <label for="companySize">Company Size (optional)</label>
          <select id="companySize">
            <option>1-10</option>
            <option>11-50</option>
            <option>51-200</option>
            <option>201-500</option>
            <option>500+</option>
          </select>
        </div>

        <!-- Work Arrangement (optional) -->
        <div class="form-group">
          <label for="workArrangement">Work Arrangement (optional)</label>
          <select id="workArrangement">
            <option>On-site</option>
            <option>Hybrid</option>
            <option>Remote</option>
          </select>
        </div>

        <!-- Certification (optional) -->
        <div class="form-group">
          <label for="certification">Certification (optional)</label>
          <input type="text" id="certification" placeholder="e.g. MRICS, CIOB" />
        </div>
      </div>

      <!-- Bonus / Benefits -->
      <div class="form-group">
        <label for="benefits">Bonus / Benefits (optional)</label>
        <textarea id="benefits" rows="3" placeholder="e.g. car allowance, pension, 30 days"></textarea>
      </div>

      <button type="submit" class="submit-btn">Submit for Approval</button>

      <div id="successMsg" class="success-msg">
        Thank you! Your submission has been received and will be reviewed within 24 hours.
      </div>
      <div id="errorMsg" class="error-msg"></div>
    </form>
  </main>

  <!-- FOOTER -->
  <footer>
    <div class="container">
      <p>
        &copy; 2025 The QS Salary Index. 
        <a href="privacy.html">Privacy</a> | 
        <a href="terms.html">Terms</a> | 
        Part of <a href="https://www.theqscollection.com" target="_blank" rel="noopener">The QS Collection</a>
      </p>
    </div>
  </footer>

  <!-- SCRIPTS -->
  <script>
    function openEmail() {
      const email = 'theqssalaryindex@outlook.com';
      const subject = encodeURIComponent('QS Salary Index – Submission Query');
      const body = encodeURIComponent('Hi,\n\nI have a question about my submission:\n\n[Your message]\n\nThanks!');
      window.location.href = `mailto:${email}?subject=${subject}&body=${body}`;
    }

    document.getElementById('salaryForm').addEventListener('submit', async (e) => {
      e.preventDefault();
      const submitBtn = e.target.querySelector('.submit-btn');
      const successMsg = document.getElementById('successMsg');
      const errorMsg = document.getElementById('errorMsg');

      submitBtn.disabled = true;
      submitBtn.textContent = 'Submitting...';
      successMsg.style.display = 'none';
      errorMsg.style.display = 'none';

      const formData = {
        title: document.getElementById('title').value.trim(),
        qsType: document.getElementById('qsType').value,
        country: document.getElementById('country').value,
        salary: document.getElementById('salary').value,
        timeInRole: document.getElementById('timeInRole').value,
        education: document.getElementById('education').value,
        sector: document.getElementById('sector').value || null,
        companySize: document.getElementById('companySize').value || null,
        workArrangement: document.getElementById('workArrangement').value || null,
        certification: document.getElementById('certification').value.trim() || null,
        benefits: document.getElementById('benefits').value.trim() || null,
        submittedAt: new Date().toISOString()
      };

      try {
        // In real use, send to backend (e.g., Netlify, Formspree, etc.)
        // For now: simulate success
        await new Promise(r => setTimeout(r, 800));
        successMsg.style.display = 'block';
        e.target.reset();
      } catch (err) {
        errorMsg.textContent = 'Submission failed. Please try again.';
        errorMsg.style.display = 'block';
      } finally {
        submitBtn.disabled = false;
        submitBtn.textContent = 'Submit for Approval';
      }
    });
  </script>
</body>
</html>
