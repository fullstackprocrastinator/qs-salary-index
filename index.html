<!DOCTYPE html>
<html lang="en-GB">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="description" content="Live, anonymous QS salary data. Submit yours and explore real-time insights." />
  <title>The QS Salary Index</title>
  <link rel="stylesheet" href="assets/css/style.css" />
  <link rel="icon" href="assets/img/qs-salary-index-logo.png" type="image/png" />
  <style>
    .sr-only {
      position: absolute;
      width: 1px;
      height: 1px;
      padding: 0;
      margin: -1px;
      overflow: hidden;
      clip: rect(0,0,0,0);
      white-space: nowrap;
      border: 0;
    }
  </style>
</head>
<body>
  <!-- HEADER -->
  <header>
    <div class="container header-flex">
      <a href="/" class="logo-link">
        <img src="assets/img/qs-salary-index-logo.png" alt="The QS Salary Index Logo" class="logo">
        <span class="sr-only">The QS Salary Index</span>
      </a>
      <div class="header-text">
        <p>Live global salary data for Quantity Surveyors</p>
        <p class="brand-link">
          Part of <a href="https://www.theqscollection.com" target="_blank" rel="noopener">The QS Collection</a>
        </p>
        <nav>
          <a href="/">Index</a> |
          <a href="submit.html">Submit</a> |
          <a href="insights.html">Insights</a> |
          <a href="#" onclick="openEmail()">Contact</a>
        </nav>
      </div>
    </div>
  </header>

  <!-- MAIN -->
  <main class="container">
    <section class="hero">
      <h1>The QS Salary Index</h1>
      <p>Anonymous, verified salary data from Quantity Surveyors worldwide.</p>
      <p><strong>All entries are admin-reviewed and live within 24 hours.</strong></p>
      <a href="submit.html" class="btn-primary">Submit Your Salary (60s)</a>
    </section>

    <!-- FILTERS -->
    <section class="filters">
      <div class="filter-group">
        <input type="text" id="search" placeholder="Search role, city, benefits..." aria-label="Search" />
      </div>
      <div class="filter-group">
        <select id="roleFilter" aria-label="Filter by QS Type">
          <option value="">All Roles</option>
        </select>
      </div>
      <div class="filter-group">
        <select id="locationFilter" aria-label="Filter by Location">
          <option value="">All Locations</option>
        </select>
      </div>
      <div class="filter-group">
        <select id="salaryRange" aria-label="Filter by Salary Range">
          <option value="0-200000">All Salaries</option>
          <option value="0-40000">£0 – £40k</option>
          <option value="40000-60000">£40k – £60k</option>
          <option value="60000-80000">£60k – £80k</option>
          <option value="80000-100000">£80k – £100k</option>
          <option value="100000-200000">£100k+</option>
        </select>
      </div>
    </section>

    <!-- INSIGHTS CTA -->
    <div class="insights-cta">
      <a href="insights.html" class="btn-insights">
        View Live Insights Dashboard
      </a>
    </div>

    <!-- RESULTS -->
    <section id="results" style="display:none;">
      <div class="table-header">
        <h2 id="entryCount">Loading entries...</h2>
      </div>
      <div class="table-container">
        <table>
          <thead>
            <tr>
              <th>Role</th>
              <th>Type</th>
              <th>Location</th>
              <th>Salary</th>
              <th>Benefits</th>
              <th>Submitted</th>
            </tr>
          </thead>
          <tbody id="salaryTableBody"></tbody>
        </table>
      </div>
      <p id="noResults" class="no-results" style="display:none;">No entries match your filters.</p>
    </section>

    <p id="loading" class="loading">Loading live data...</p>
  </main>

  <!-- FOOTER -->
  <footer>
    <div class="container">
      <p>
        &copy; 2025 The QS Salary Index. 
        <a href="privacy.html">Privacy</a> | 
        <a href="terms.html">Terms</a> | 
        Part of <a href="https://www.theqscollection.com" target="_blank" rel="noopener">The QS Collection</a>
      </p>
    </div>
  </footer>

  <!-- SCRIPTS -->
  <script src="assets/js/main.js"></script>
  <script>
    // Open email client
    function openEmail() {
      const email = 'theqssalaryindex@outlook.com';
      const subject = encodeURIComponent('QS Salary Index – Feedback');
      const body = encodeURIComponent('Hi,\n\nI have a question/feedback:\n\n[Your message]\n\nThanks!');
      const mailto = `mailto:${email}?subject=${subject}&body=${body}`;
      const a = document.createElement('a');
      a.href = mailto; a.style.display = 'none';
      document.body.appendChild(a); a.click(); document.body.removeChild(a);
      setTimeout(() => window.open(`https://mail.google.com/mail/?view=cm&fs=1&to=${email}&su=${subject}&body=${body}`, '_blank'), 500);
    }
  </script>
</body>
</html>
